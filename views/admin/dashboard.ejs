<%- include ('../layouts/adminHeader.ejs') %> <%-
include('../layouts/adminProfileLeft.ejs') %>
<style>
  html {
    position: relative;
    min-height: 100%;
  }

  body {
    overflow-x: hidden;
    /* font-family: lato; */
    background-color: #eeeeee;
  }

  .textside {
    margin-left: 25px;
  }

  .navlogo img {
    margin-bottom: 10px;
    margin-top: 10px;
    width: 60%;
  }

  .fixed-top {
    position: fixed;
    top: 0;
    right: 0;
    left: 0;
    z-index: 1030;
    background: #ffffff;
    height: 60px;
    color: white;
  }

  .dropdown-menu {
    position: absolute;
    top: 100%;
    left: 0;
    z-index: 1000;
    display: none;
    float: left;
    min-width: 10rem;
    padding: 6px 10px;
    margin: 5px 0px 0;
    font-size: 1rem;
    color: #212529;
    text-align: left;
    list-style: none;
    background-color: #fff;
    background-clip: padding-box;
    border: 1px solid rgba(0, 0, 0, 0.15);
    border-radius: 0.25rem;
  }

  a {
    color: #7d7d7d;
    text-decoration: none;
    background-color: transparent;
    -webkit-text-decoration-skip: objects;
  }

  a:hover {
    color: #7d7d7d;
    text-decoration: none;
    background-color: transparent;
    -webkit-text-decoration-skip: objects;
  }

  .inforide {
    box-shadow: 1px 2px 8px 0px #f1f1f1;
    background-color: white;
    border-radius: 8px;
    height: 125px;
  }

  .rideone img {
    width: 70%;
  }

  .ridetwo img {
    width: 60%;
  }

  .ridethree img {
    width: 50%;
  }

  .rideone {
    background-color: #6cc785;
    padding-top: 25px;
    border-radius: 8px 0px 0px 8px;
    text-align: center;
    height: 125px;
    margin-left: 15px;
  }

  .ridetwo {
    background-color: #9a75fe;
    padding-top: 30px;
    border-radius: 8px 0px 0px 8px;
    text-align: center;
    height: 125px;
    margin-left: 15px;
  }

  .ridethree {
    background-color: #4ebce5;
    padding-top: 35px;
    border-radius: 8px 0px 0px 8px;
    text-align: center;
    height: 125px;
    margin-left: 15px;
  }

  .fontsty {
    margin-right: -15px;
  }

  .fontsty h2 {
    color: #6e6e6e;
    font-size: 35px;
    margin-top: 15px;
    text-align: right;
    margin-right: 30px;
  }

  .fontsty h4 {
    color: #6e6e6e;
    font-size: 25px;
    margin-top: 20px;
    text-align: right;
    margin-right: 30px;
  }

  .content-wrapper {
    min-height: calc(100vh - 56px);
    padding-top: 4rem;
    overflow-x: hidden;
    background: transparent;
  }

  #mainNav .navbar-collapse {
    overflow: auto;
    max-height: 75vh;
  }

  #mainNav .navbar-collapse .navbar-sidenav li:hover {
  }

  #mainNav .navbar-collapse .navbar-nav .nav-item .nav-link {
    cursor: pointer;
  }

  #mainNav .navbar-collapse .navbar-sidenav .nav-link-collapse:after {
    float: right;
    content: "\f107";
    font-family: "FontAwesome";
  }

  #mainNav .navbar-collapse .navbar-sidenav .nav-link-collapse.collapsed:after {
    content: "\f105";
  }

  #mainNav .navbar-collapse .navbar-nav > .nav-item.dropdown > .nav-link {
    position: relative;
    min-width: 45px;
  }

  #mainNav .navbar-collapse .navbar-nav > .nav-item.dropdown > .nav-link:after {
    float: right;
    width: auto;
    content: "\f105";
    border: none;
    font-family: "FontAwesome";
  }

  #mainNav
    .navbar-collapse
    .navbar-nav
    > .nav-item.dropdown.show
    > .nav-link:after {
    content: "\f107";
  }

  #mainNav.navbar-dark
    .navbar-collapse
    .navbar-sidenav
    .nav-link-collapse:after {
    color: #868e96;
  }

  #mainNav.navbar-dark
    .navbar-collapse
    .navbar-sidenav
    > .nav-item
    > .nav-link {
    color: white;
  }

  #mainNav.navbar-dark
    .navbar-collapse
    .navbar-sidenav
    > .nav-item
    > .nav-link:hover {
    color: #d04153;
    border-radius: 30px;
    background-color: white;
  }

  #mainNav.navbar-dark
    .navbar-collapse
    .navbar-nav
    > .nav-item.dropdown
    > .nav-link:after {
    color: #d04153;
  }

  #mainNav.navbar-light
    .navbar-collapse
    .navbar-sidenav
    .nav-link-collapse:after {
    color: rgba(0, 0, 0, 0.5);
  }

  #mainNav.navbar-light
    .navbar-collapse
    .navbar-sidenav
    > .nav-item
    > .nav-link {
    color: rgba(0, 0, 0, 0.5);
  }

  #mainNav.navbar-light
    .navbar-collapse
    .navbar-sidenav
    > .nav-item
    > .nav-link:hover {
    color: rgba(0, 0, 0, 0.7);
  }

  #mainNav.navbar-light
    .navbar-collapse
    .navbar-nav
    > .nav-item.dropdown
    > .nav-link:after {
    color: rgba(0, 0, 0, 0.5);
  }

  body.sidenav-toggled .navbar-sidenav {
    width: 55px;
  }

  body.sidenav-toggled .navbar-sidenav .nav-link-text {
    display: none;
  }

  body.sidenav-toggled .navbar-sidenav .nav-item,
  body.sidenav-toggled .navbar-sidenav .nav-link {
    width: 55px !important;
  }

  body.sidenav-toggled .navbar-sidenav .nav-item:after,
  body.sidenav-toggled .navbar-sidenav .nav-link:after {
    display: none;
  }

  body.sidenav-toggled .navbar-sidenav .nav-item {
    white-space: nowrap;
  }

  @media (min-width: 992px) {
    #mainNav .navbar-brand {
      width: 220px;
    }

    #mainNav .navbar-collapse {
      overflow: visible;
      max-height: none;
    }

    #mainNav .navbar-collapse .navbar-sidenav {
      position: absolute;
      top: 0;
      left: 0;
      -webkit-flex-direction: column;
      -ms-flex-direction: column;
      flex-direction: column;
      margin-top: 0px;
    }

    #mainNav .navbar-collapse .navbar-sidenav > .nav-item {
      width: 230px;
      padding: 5px 15px;
      border-bottom: none;
    }

    #mainNav .navbar-collapse .navbar-sidenav > .nav-item > .nav-link {
      padding: 1em;
    }

    #mainNav .navbar-collapse .navbar-nav > .nav-item.dropdown > .nav-link {
      min-width: 0;
    }

    #mainNav
      .navbar-collapse
      .navbar-nav
      > .nav-item.dropdown
      > .nav-link:after {
      width: 24px;
      text-align: center;
    }

    #mainNav.fixed-top .navbar-sidenav {
      height: calc(120vh - 150px);
      width: 230px;
    }

    #mainNav.navbar-dark .navbar-collapse .navbar-sidenav {
      background: #262625;
    }

    #mainNav.navbar-dark .navbar-collapse .navbar-sidenav li.active a {
      color: white !important;
      background-color: #495057;
    }

    #mainNav.navbar-dark .navbar-collapse .navbar-sidenav li.active a:focus,
    #mainNav.navbar-dark .navbar-collapse .navbar-sidenav li.active a:hover {
      color: white;
    }

    #mainNav.navbar-light .navbar-collapse .navbar-sidenav {
      background: #f8f9fa;
    }

    #mainNav.navbar-light .navbar-collapse .navbar-sidenav li.active a {
      color: #000 !important;
      background-color: #e9ecef;
    }

    #mainNav.navbar-light .navbar-collapse .navbar-sidenav li.active a:focus,
    #mainNav.navbar-light .navbar-collapse .navbar-sidenav li.active a:hover {
      color: #000;
    }

    .content-wrapper {
      margin-left: 250px;
      margin-right: 20px;
    }
  }

  @media screen and (max-device-width: 640px) {
    .navbar-dark .navbar-toggler {
      color: rgba(255, 255, 255, 0.5);
      border-color: #e84a5f;
      background: #e84a5f;
    }

    .navbar-nav {
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: vertical;
      -webkit-box-direction: normal;
      -ms-flex-direction: column;
      flex-direction: column;
      padding-left: 0;
      margin-bottom: 0;
      list-style: none;
      background: #262625;
      height: 80vh;
    }

    .navbar-nav2 {
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: vertical;
      -webkit-box-direction: normal;
      -ms-flex-direction: column;
      flex-direction: column;
      padding-left: 0;
      margin-bottom: 0;
      list-style: none;
      background: #262625;
      height: 18vh;
    }
  }
</style>

<div class="content-wrapper" style="padding-left: 7%">
  <h4 style="margin-left: 1%">Oders and Other Details</h4>
  <div class="container-fluid">
    <div class="row">
      <!-- Icon Cards-->
      
      <div class="col-lg-4 col-md-4 col-sm-6 col-12 mb-2 mt-4" style="padding-left: 5%;">
        <div class="inforide">
          <div class="row">
            <div class="col-lg-3 col-md-4 col-sm-4 col-4 ridetwo">
              <!-- <img src="https://vignette.wikia.nocookie.net/nationstates/images/2/29/WS_Logo.png/revision/latest?cb=20080507063620"> -->
            </div>
            <div class="col-lg-9 col-md-8 col-sm-8 col-8 fontsty">
              <h4>Total Orders placed</h4>
              <h2> <%=sales%></h2>
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-4 col-md-4 col-sm-6 col-12 mb-2 mt-4" style="margin-left: 170px;">
        <div class="inforide">
          <div class="row">
            <div class="col-lg-3 col-md-4 col-sm-4 col-4 ridethree">
              <!-- <img src="https://vignette.wikia.nocookie.net/nationstates/images/2/29/WS_Logo.png/revision/latest?cb=20080507063620"> -->
            </div>
            <div class="col-lg-9 col-md-8 col-sm-8 col-8 fontsty">
              <h4>Total Revenue</h4>
              <h2><%=totalRevenue%></h2>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
<!-- Sales Chart Start -->
<div style="height: 50vh; ">
    <div style="width: 90%; height: 60vh; background-color: rgb(255, 255, 255)">
      <canvas
        id="myChart"
        class="mt-5"
        style="margin-left: 19%; width: 100%; max-width: 700px"
      ></canvas>
    </div>
  
    <div
      style="
        margin-left: 0%;
        width: 90%;
        height: 60vh;
        background-color: rgb(255, 255, 255);
      "
    >
      <canvas
        id="myChart2"
        class="mt-5"
        style="margin-left: 19%; width: 100%; max-width: 700px"
      ></canvas>
    </div>
  </div>
  <input type="hidden" id="pds" value="<%=pds%>" />
  <input type="hidden" id="qty" value="<%=qty%>" />
  <input type="hidden" id="key1" value="<%=key1%>" />
  <input type="hidden" id="key2" value="<%=key2%>" />
  
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
<script>
  x = document.getElementById("pds").value;
  y = document.getElementById("qty").value;
  xValues = x.split(",");
  yValues = y.split(",");
  key1 = document.getElementById("key1").value;
  key2 = document.getElementById("key2").value;
  xValue = key1.split(",");
  yValue = key2.split(",");
  console.log(xValue, yValue);

  var barColors = [
    "#b91d47",
    "#2b5797",
    "#e8c3b9",
    "#1e7145",
    "#0000FF",
    "#FFFF00",
  ];

  new Chart("myChart", {
    type: "bar",
    data: {
      labels: xValues,
      datasets: [
        {
          label: "Stock remains",
          backgroundColor: barColors,
          data: yValues,
        },
      ],
    },
    options: {
      title: {
        display: true,
        text: "Products and Available Stock",
      },
    },
  });
  new Chart("myChart2", {
    type: "pie",
    data: {
      labels: xValue,
      datasets: [
        {
          backgroundColor: barColors, 
          data: yValue,
        },
      ],
    },
    options: {
      title: {
        display: true,
        text: "Productwise Sale",
      },
    },
  });
</script>

<!-- Footer -->
